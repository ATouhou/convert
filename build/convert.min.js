/*! convert uglified by Grunt.js 2014-26-10 */
(function(){function a(){return!(!window.performance||!window.performance.timing)}var b=this,c={},d={},e=null,f=function(a,b){var c={};for(var d in a)c[d]=a[d];for(var e in b)c[e]=b[e];return c},g=function(){},h=function(){},i=function(){},j=["exit","new","return","firstview","idle","pagebottom"],k=function(b){var c=this,d={aggressive:!1,sensitivity:20,delay:0,throttle:200,storage:"cookie"},j=null,k=f(d,b),l=!1;switch(this.doc=null,k.storage){case"localstorage":this.storage=new i;break;case"server":this.storage=new h;break;default:this.storage=new g}e=setInterval(function(){this.atBottom()}.bind(this),k.throttle),this._handleMouseLeave=function(a){a.clientY>k.sensitivity||(j=setTimeout(function(){c.trigger({type:"exit"})},k.delay))},this._handleMouseEnter=function(){j&&(clearTimeout(j),j=null)},this._handleKeyDown=function(){l||(l=!0,j=setTimeout(function(){c.trigger({type:"exit"})},k.delay))},"undefined"!=typeof document&&(this.doc=document.documentElement,this.doc.addEventListener("mouseleave",this._handleMouseLeave),this.doc.addEventListener("mouseenter",this._handleMouseEnter),this.doc.addEventListener("keydown",this._handleKeyDown)),a()};k.prototype.atBottom=function(){var a=document.documentElement,b=window;return a.scrollHeight-b.innerHeight===b.scrollY&&(clearInterval(e),this.trigger({type:"pagebottom"})),!1},k.prototype.on=function(a,b){j.indexOf(a)<0||("undefined"==typeof c[a]&&(c[a]=[]),c[a].push(b))},k.prototype.trigger=function(a){if(!a.type)throw new Error("Event missing 'type' property ");if(!(j.indexOf(a.type)<0)){if("undefined"!=typeof c[a.type])for(var b=c[a.type],e=0;e<b.length;e++)b[e].call(this,a);if("undefined"!=typeof d[a.type]){for(var f=d[a.type],g=0;g<f.length;g++)f[g].call(this,a);d[a.type]=[]}}},k.prototype.off=function(a,b){if(!(j.indexOf(event.type)<0)&&"undefined"!=typeof c[a])for(var d=c[a],e=0;e<d.length;e++)if(d[e]===b){d.splice(e,1);break}},k.prototype.one=function(a,b){"undefined"==typeof d[a]&&(d[a]=[]),d[a].push(b)},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=k),exports.Convert=k):b.Convert=k}).call(this);